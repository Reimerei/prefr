<div
	class			=	"ballot-box"
	single-select	=	"true"		
>
	<h3>{{ballot_box.subject}} ({{ballot_box.id}})</h3>

	<!-- selected ballot paper to edit start -->

	<div id="edit-paper">
		<preference-ranking
			ranking-model		=	"ballot_box.papers[selected||''].ranking"
			ranking-orientation	=	"vertical"
		>	
			{{selected}}		
			<preference-rank
				ng-repeat 	=	"rank in rankingData"
				class		=	"ui-panel left vertical ui-borders ui-corners-all"
			>
				<summary>
					<!-- CSS will put the counter here-->
				</summary>

				<preference-option 
					class		=	"ui-panel right ui-corners-left"
					ng-repeat	=	"option in rank"
					value		=	"{{option}}"
				>
					<details>						
						<div class="title"> 	{{ballot_box.options[option].title}} 	</div>						
					</details>
					<summary>
						{{option}}
					</summary>
				</preference-option>	

			</preference-rank>
		</preference-ranking>
	</div>

	<!-- selected ballot paper to end -->





	<!-- list of all ballot papers -->



	<ul class="ballot-papers ui-corners-left">
		<li
			class		=	"ballot-paper {{selected ? 'selected' : ''}}" 
			ng-repeat	=	"paper in ballot_box.papers"
			select-as	=	"{{paper.id}}"						
		>
					
			<div class = "controls">
				<span class="participant"> {{paper.participant}} </span>							
				<button 
					ng-click	= "select()"
					class		= "ui-icon-edit"
				>	
					edit		
				</button>
				<button 
					ng-click	= "removeBallotPaper($index)"
					class		= "ui-icon-delete"
				> 	
					delete
				</button>
			</div>

			<preference-ranking
				ranking-model		=	"paper.ranking"
				ranking-orientation	=	"horizontal"
				no-dragging			=	"true"
				class				=	"compact"
			>			
				<preference-rank
					ng-repeat 	=	"rank in rankingData"
					class		=	"ui-panel left horizontal ui-borders ui-corners-all"
				>
					<summary>

						<!-- CSS will put the counter here-->

					</summary>

					<preference-option 
						class		=	"ui-panel right horizontal ui-corners-left"
						ng-repeat	=	"option in rank"
						value		=	"{{option}}"
					>
						<details>						
							<div class="title"> 	{{ballot_box.options[option].title}} 	</div>						
						</details>
						<summary>
							{{option}}
						</summary>
					</preference-option>	

				</preference-rank>
			</preference-ranking>
		</li>	
	</ul>

	<!-- list of all ballot papers -->

</div>

<button ng-click = "addBallotPaper()"> Add Ballot </button>

<a href="#/evaluate/{{box_id}}"> Auswertung </a>

