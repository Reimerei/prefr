<div
	class			=	"ballot-box"
	single-select	=	"{'ballot-paper': '', 'mode' : 'prefr'}"		
>

    <table> 
        <tr single-select   = "{'edit-menu' : 'ranking'}">

        	<!-- selected ballot paper to edit start -->

            <td class="edit-options">
                <nav class="vertical">

                    <a
                        ng-click        = "select('edit-menu', 'source')"
                        class           = "{{selectionEditMenu.value == 'source' ? 'current' : ''}}"
                    >
                        JSON-source
                    </a>

                    <a
                        ng-click        = "select('edit-menu', 'ranking')"
                        class           = "{{selectionEditMenu.value == 'ranking' ? 'current' : ''}} "
                    >
                        Ranking UI
                    </a>        

                    <i
                        class       = "fa fa-lock  fa-rotate-90 fa-lg"
                        ng-show     = "ballot_box.papers[selectionBallotPaper.value].locked"
                        ng-click    = "ballot_box.papers[selectionBallotPaper.value].locked = false"
                    ></i>   
                    <i
                        class       =  "fa fa-unlock-alt  fa-rotate-90 fa-lg"
                        ng-hide     = "ballot_box.papers[selectionBallotPaper.value].locked"                        
                        ng-click    = "ballot_box.papers[selectionBallotPaper.value].locked = true"
                    ></i>                
                </nav>
            </td>

        	<td class = "edit-paper ui-deep-shadow" > 
        		<preference-ranking
        			ranking-model		=	"ballot_box.papers[selectionBallotPaper.value].ranking"
        			ranking-orientation =   "vertical"
                    no-dragging         =   "ballot_box.papers[selectionBallotPaper.value].locked"
                    ng-show             =   "selectionEditMenu.value == 'ranking'"
        		>			         
        			<preference-rank
        				ng-repeat 	=	"rank in rankingData"
        				class		=	"ui-panel left vertical ui-borders ui-corners-all"
        			>
        				<summary>
        					<!-- CSS will put the counter here-->
        				</summary>

        				<preference-option 
        					class		=	"ui-panel right ui-corners-left"
        					ng-repeat	=	"option in rank"
        					value		=	"{{option}}"
        				>
        					<details>						
        						<div class="title"> 	{{ballot_box.options[option].title}} 	</div>						
        					</details>
        					<summary>
        						{{option}}
        					</summary>
        				</preference-option>	

        			</preference-rank>
        		</preference-ranking>

                <div
                    ng-show     = "selectionEditMenu.value == 'source'" 
                    class       = "ui-panel ui-borders ui-corners-all"
                >
                    <summary class="">
                        <h3>{{ballot_box.papers[selectionBallotPaper.value].participant}}</h3>
                        <nav>
                            <a
                                ng-click = "select('mode', 'preftools')"
                            >pref-tools syntax</a>
                            <a
                                ng-click = "select('mode', 'prefr')"
                            >prefr syntax</a>                            
                        </nav>
                    </summary>                    
                    <ranking-source
                        ranking-data    = "ballot_box.papers[selectionBallotPaper.value].ranking"
                        mode            = "selectionMode.value"
                    >
                    </ranking-source>
                </div>
        	</td>

        	<!-- selected ballot paper to end -->





        	

            <td
                class           = "ballot-overview"
                single-select   = "{'overview-menu': 'papers'}"   
            >
        		<div class="ui-content">
                	<h2>{{ballot_box.subject}} ({{ballot_box.id}})</h2>
        			<p>
        				Example text. Put further details here. sgfjh ,jhsd f,jhsdf ewjhgf wje,a gfewhf g
        			</p>
        			<small>
        				Instructions go here.
        			</small>
        		</div>
                <nav>
                    <a
                        ng-click        = "select('overview-menu', 'papers')"
                        select-initial  = "true"                        
                        class           = "{{selectionOverviewMenu.value == 'papers' ? 'current' : ''}} "
                    >
                        Ballot papers
                    </a>                    
                    <a
                        ng-click        = "select('overview-menu', 'options')"                        
                        class           = "{{selectionOverviewMenu.value == 'options' ? 'current' : ''}} "
                    >
                        Ballot options
                    </a> 

                    <a
                        ng-click = "postBox()"
                    >
                        result
                    <a>
                </nav>
                <hr />

                <!-- list of all ballot papers -->

                <ul
                    class   =   "ballot-papers"
                    ng-show =   "selectionOverviewMenu.value == 'papers'"
                >
                    <li
                        class           = "ballot-paper {{selectionBallotPaper.value == paper.id ? 'selected' : ''}}"
                        ng-repeat       = "paper in ballot_box.papers"                        
                    >
                        <div
                            class           = "participant"
                            ng-click        = "select('ballot-paper', paper.id)" 
                            select-initial  = "$first"
                        > 

                            <span
                                class   = "name" 
                                ng-hide = "selectionBallotPaper.value == paper.id"
                            >
                                {{paper.participant}}
                            </span>

                            <input
                                type    = "text" 
                                ng-show = "selectionBallotPaper.value == paper.id" 
                                ng-model= "paper.participant"
                            />

                            <span
                                class           = "icons"                                
                            >
                                
                                <i 
                                    class           = "fa fa-lock"
                                    ng-show         = "paper.locked"
                                    ng-click        = "paper.locked = false"
                                ></i>

                                <i 
                                    class           = "fa fa-unlock-alt"                                    
                                    ng-hide         = "paper.locked"
                                    ng-click        = "paper.locked = true"
                                ></i>
                            </span> 
                            <!--
                            <button
                                ng-click	= "select()"
                                class		= "ui-icon-edit"
                            >
                                edit
                            </button>
                            <button
                                ng-click	= "removeBallotPaper($index)"
                                class		= "ui-icon-delete"
                            >
                                delete
                            </button>
                            -->
                        </div>

                        <preference-ranking
                            ranking-model		=	"paper.ranking"
                            ranking-orientation	=	"horizontal"
                            no-dragging         =   "true"
                            class				=	"compact"
                        >
                            <preference-rank
                                ng-repeat 	=	"rank in rankingData"
                                class		=	"ui-panel left horizontal ui-borders ui-corners-all"
                            >
                                <summary>

                                    <!-- CSS will put the counter here-->

                                </summary>

                                <preference-option
                                    class		=	"ui-panel right horizontal ui-corners-left"
                                    ng-repeat	=	"option in rank"
                                    value		=	"{{option}}"
                                >
                                    <details>
                                        <div class="title"> 	{{ballot_box.options[option].title}} 	</div>
                                    </details>
                                    <summary>
                                        {{option}}
                                    </summary>
                                </preference-option>

                            </preference-rank>
                        </preference-ranking>
                    </li>
                </ul>
                <!-- list of all ballot papers end-->



                <!-- list of all ballot options start -->

                <ul
                    class   =   "ballot-options"
                    ng-show =   "selectionOverviewMenu.value == 'options'"
                >
                    <li
                        ng-repeat   = "option in ballot_box.options"
                        class       = "ui-content"
                    >
                        <h3>{{option.tag}} {{option.title}} </h3>
                        <p>
                            {{option.details}}
                        </p>
                    </li>
                </ul>

            </td>
        	

        </tr>
    </table>
</div>
    <tooltip>
        test tooltip
    </tooltip>